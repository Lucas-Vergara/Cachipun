<!DOCTYPE html>
<html>

<head>
    <title>Cachipún</title>
    <link rel="stylesheet" href="style.css">
</head>

<body id="ring">
    <h1 id="titulo">Cachipún</h1>
    <div id="centrar">
        <button id="piedra" type="button"></button>
        <button id="papel" type="button"></button>
        <button id="tijera" type="button"></button>
    </div>
    <div id="resultados">
        <p id =score></p>
        <p id =ronda></p>
    </div>
    <div id="pie">
        <button type="button" id="rondas"> RONDAS</button>
    </div>
    
</body>
    <script>
        function random3() {
          
            let a = Math.floor(Math.random()*10);
            
            do {
                a = Math.floor(Math.random()*10)
            } while (a>2)

           return a
           
        }
        
        function computerPlay(a) {
           
            if (a == 2){ return "Piedra"}
            else if (a == 1){ return "Papel"}
            else if (a == 0){ return "Tijera"}
        
        }
            
        function playerSelect () {
            let  playerSelection = prompt("Elige!")
            return playerSelection
        }

        function round (playerSelection, computerSelection) {
            
            let result = "Malos inputs"

            if (playerSelection.localeCompare("piedra") == 0) {
                if (computerSelection.localeCompare("Piedra") == 0) {
                    result = "Empate!"
                }
                else if (computerSelection.localeCompare("Tijera") == 0) {
                    result = "Ganaste! Piedra le gana a Tijera."
                }
                else if (computerSelection.localeCompare("Papel") == 0) {
                    result = "Perdiste! Papel le gana a Piedra."
                }
                else {result = "algo anda mal."}
            } 

            else if (playerSelection.localeCompare("tijera") == 0) {
                if (computerSelection.localeCompare("Tijera") == 0) {
                    result = "Empate!"
                }
                else if (computerSelection.localeCompare("Piedra") == 0) {
                    result = "Perdiste! Piedra le gana a Tijera."
                }
                else if (computerSelection.localeCompare("Papel") == 0) {
                    result = "Ganaste! Tijera le gana a Papel."
                }
                else {result = "algo anda mal."}
            } 
            
            else if (playerSelection.localeCompare("papel") == 0) {
                if (computerSelection.localeCompare("Papel") == 0) {
                    result = "Empate!"
                }
                else if (computerSelection.localeCompare("Piedra") == 0) {
                    result = "Ganaste! Papel le gana a Piedra."
                }
                else if (computerSelection.localeCompare("Tijera") == 0) {
                    result = "Perdiste! Tijera le gana a Papel."
                }
                else {result = "algo anda mal"}
            } 

            else {result = "Solo se puede jugar con los valores 'Piedra', 'Papel' y 'Tijera'. Este punto será para el computador"}

            return result
        }

        let computerScore = 0;
        let playerScore = 0;
        let ronda = 0;
        let elecciones = [];
       function singleGame(e) {
        
            let computerSelection = computerPlay(random3()) 
            let playerSelection = e.toElement.id
            
            elecciones [ronda] = "El computador eligió "+computerSelection+" y tú elegiste "+ playerSelection + "."
            resultado = round (playerSelection.toLowerCase(), computerSelection)
         
            if(resultado.localeCompare("H") < 0 && resultado.localeCompare("F") > 0){
                playerScore ++
            }
            else if (resultado.localeCompare("F") < 0) {
                playerScore ++
                computerScore ++
            }
            else {
                computerScore ++
            }
        document.getElementById("score").innerHTML = "Computador:" + computerScore + "   " + "Jugador:" + playerScore;
        document.getElementById("ronda").innerHTML = "Ronda N°"+(ronda+1)+": "+elecciones[ronda] +" "+ resultado;
        ronda ++
       }

       function mostrarRondas(){
            alert (elecciones)
       }

       document.getElementById("papel").addEventListener("click", singleGame);
       document.getElementById("piedra").addEventListener("click", singleGame);
       document.getElementById("tijera").addEventListener("click", singleGame);
       document.getElementById("rondas").addEventListener("click", mostrarRondas);
    </script>
</html>